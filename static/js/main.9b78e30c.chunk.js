(this["webpackJsonppixelplex-pattern"]=this["webpackJsonppixelplex-pattern"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),a=n(7),u=n.n(a),o=n(2),s=n(1),h=n(4),l=n(3),c=n(5),f=n(8);function d(t){if(!Number.isSafeInteger(t))throw new Error("is not a safe integer");return t}function y(t){if((t=d(t))<=0)throw new Error("is not positive");return t}var g,v=function(){function t(e,n){Object(o.a)(this,t),this._x=void 0,this._y=void 0,this._x=d(e),this._y=d(n)}return Object(s.a)(t,[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}}],[{key:"ZERO",get:function(){return new t(0,0)}}]),Object(s.a)(t,[{key:"add",value:function(e){return"number"===typeof e?this.add(new t(e,e)):new t(this.x+e.x,this.y+e.y)}},{key:"max",value:function(e){return new t(Math.max(this.x,e.x),Math.max(this.y,e.y))}},{key:"mul",value:function(e){return"number"===typeof e?this.mul(new t(e,e)):new t(this.x*e.x,this.y*e.y)}},{key:"eq",value:function(t){return this.x===t.x&&this.y===t.y}}]),t}(),p=function(){function t(e,n,r){var i=this;Object(o.a)(this,t),this._width=void 0,this._height=void 0,this._data=void 0,this._width=y(e),this._height=y(n),this._data=new Array(this.width).fill(null).map((function(t,e){return new Array(i.height).fill(null).map((function(t,n){return r(new v(e,n))}))}))}return Object(s.a)(t,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"size",get:function(){return new v(this.width,this.height)}}]),Object(s.a)(t,[{key:"isInBounds",value:function(t){return t.x>=0&&t.x<this.width&&t.y>=0&&t.y<this.height}},{key:"onlyIfInBounds",value:function(t){if(!this.isInBounds(t))throw new Error("out of bounds")}},{key:"get",value:function(t){return this.onlyIfInBounds(t),this._data[t.x][t.y]}},{key:"set",value:function(t,e){return this.onlyIfInBounds(t),this._data[t.x][t.y]=e}},{key:"transform",value:function(e){var n=this;return new t(this.width,this.height,(function(t){return e(n.get(t),t,n)}))}},{key:"map",value:function(t){var e=this;return new Array(this.width*this.height).fill(null).map((function(n,r){var i=r%e.width,a=Math.floor(r/e.width),u=new v(i,a);return t(e.get(u),u,e)}))}}]),t}();function w(t){if(!Number.isSafeInteger(t))throw new Error("random base is not a safe integer");if(t<=0)throw new Error("random base is not positive");return Math.floor(Math.random()*t)}!function(t){t[t.EMPTY=0]="EMPTY",t[t.POTENTIAL=1]="POTENTIAL",t[t.FILLED=2]="FILLED",t[t.LOCKED=3]="LOCKED",t[t.DIAG=4]="DIAG"}(g||(g={}));var m=new v(0,0),E=[1,0,-1,0].map((function(t,e,n){return new v(t,n[(e+1)%4])})),b=Object(f.a)(E,4),x=b[0],O=(b[1],b[2],b[3]),k=[1,-1,-1,1].map((function(t,e,n){return new v(t,n[(e+1)%4])})),I=[[],[m],[m,x],[m,O],[m,x,O]];function j(t){for(var e=new p(t,t,(function(){return g.EMPTY})),n=new v(w(e.width),w(e.height)),r=0;r<4;r++){var i=w(I.length),a=I[i],u=k[r].max(m).mul(e.size.add(-1));console.log("pillar",u);var o=!0,s=!1,h=void 0;try{for(var l,c=a[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var f=l.value;console.log("cornerLock",f);var d=u.add(f.mul(k[(r+2)%4]));console.log("lockPos",d),e.set(d,g.LOCKED)}}catch(D){s=!0,h=D}finally{try{o||null==c.return||c.return()}finally{if(s)throw h}}}e.set(n,g.POTENTIAL);for(var y=[n];y.length>0;){var b=w(y.length),x=y[b],O=y.pop();if(b<y.length&&(y[b]=O),[g.POTENTIAL,g.DIAG].includes(e.get(x))){e.set(x,g.FILLED);for(var j=0;j<4;j++){var L=x.add(E[j]);if(e.isInBounds(L))switch(e.get(L)){case g.POTENTIAL:e.set(L,g.LOCKED);break;case g.DIAG:e.set(L,g.POTENTIAL);break;case g.EMPTY:e.set(L,g.POTENTIAL);for(var T=0;T<2;T++)y.push(L)}}for(var _=0;_<4;_++){var A=x.add(k[_]);e.isInBounds(A)&&e.get(A)===g.EMPTY&&(e.set(A,g.DIAG),y.push(A))}}}return e.transform((function(t){return t===g.FILLED}))}var L=function(t){function e(){return Object(o.a)(this,e),Object(h.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return i.a.createElement("svg",{width:512,height:512},this.props.grid.map((function(t,e){return t?i.a.createElement("rect",{x:6+100*e.x,y:6+100*e.y,width:100,height:100,fill:"#4650a0"}):null})))}}]),e}(r.Component),T=function(t){function e(){return Object(o.a)(this,e),Object(h.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(s.a)(e,[{key:"drawCell",value:function(t){if(!this.props.grid.get(t))return null;for(var e=[],n=0;n<4;n++){var a=t.add(E[n]);if(!this.props.grid.isInBounds(a)||!this.props.grid.get(a)){var u=100*(t.x+k[n].x/2)+56,o=100*(t.y+k[n].y/2)+56,s=k[(n+3)%4],h=100*(t.x+s.x/2)+56,l=100*(t.y+s.y/2)+56;e.push(i.a.createElement("line",Object.assign({x1:u,x2:h,y1:o,y2:l},{stroke:"#4650a0",strokeWidth:"4"})))}}return 0===e.length?null:i.a.createElement(r.Fragment,null,e)}},{key:"render",value:function(){var t=this;return i.a.createElement("svg",{width:512,height:512},this.props.grid.map((function(e,n){return t.drawCell(n)})))}}]),e}(r.Component),_=5,A=function(t){function e(t,n){var r;return Object(o.a)(this,e),(r=Object(h.a)(this,Object(l.a)(e).call(this,t,n))).state={grid:j(_),filled:!0},r}return Object(c.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("div",{id:"app"},this.state.filled?i.a.createElement(L,{grid:this.state.grid}):i.a.createElement(T,{grid:this.state.grid}),i.a.createElement("div",{id:"options"},i.a.createElement("button",{onClick:function(){return t.setState({grid:j(_)})}},"Generate new"),i.a.createElement("div",null,i.a.createElement("label",null,"Filled"),i.a.createElement("input",{type:"checkbox",defaultChecked:this.state.filled,onChange:function(e){return t.setState({filled:e.target.checked})}}))))}}]),e}(r.Component);n(14);u.a.render(i.a.createElement(A,null),document.getElementById("root"))},9:function(t,e,n){t.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.9b78e30c.chunk.js.map